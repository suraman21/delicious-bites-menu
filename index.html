<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arkeon Ethiopia - Digital Menu</title>
    <style>
        /* ===== PRELOADER STYLES ===== */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 50%, #feca57 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .preloader-logo {
            font-size: 5rem;
            margin-bottom: 25px;
            animation: float 2s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(-5deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .preloader-restaurant {
            color: white;
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 15px;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-shadow: 0 5px 15px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .preloader-restaurant span {
            display: inline-block;
            animation: slideUp 0.6s ease forwards;
            opacity: 0;
        }

        .preloader-restaurant span:nth-child(1) { animation-delay: 0.1s; }
        .preloader-restaurant span:nth-child(2) { animation-delay: 0.2s; }
        .preloader-restaurant span:nth-child(3) { animation-delay: 0.3s; }
        .preloader-restaurant span:nth-child(4) { animation-delay: 0.4s; }
        .preloader-restaurant span:nth-child(5) { animation-delay: 0.5s; }
        .preloader-restaurant span:nth-child(6) { animation-delay: 0.6s; }
        .preloader-restaurant span:nth-child(7) { animation-delay: 0.7s; }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .preloader-tagline {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.1rem;
            margin-bottom: 30px;
            font-weight: 600;
            animation: fadeIn 1s ease 0.8s forwards;
            opacity: 0;
        }

        .preloader-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===== MAIN STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            background: linear-gradient(to bottom, #fff5e6 0%, #ffe4cc 100%);
            color: #333;
            padding-bottom: 80px;
            opacity: 0;
            transition: opacity 0.5s ease;
            min-height: 100vh;
        }

        body.loaded {
            opacity: 1;
        }

        /* Language & Menu Bar */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 999;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .menu-icon-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-icon-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .menu-icon-btn span {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .menu-icon-btn.active span:nth-child(1) {
            transform: rotate(45deg) translateY(8px);
        }

        .menu-icon-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-icon-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translateY(-8px);
        }

        .language-toggle {
            display: flex;
            gap: 5px;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px;
            border-radius: 25px;
        }

        .lang-btn {
            background: transparent;
            border: none;
            color: white;
            padding: 8px 18px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .lang-btn.active {
            background: white;
            color: #ff6b6b;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        /* Sidebar Menu */
        .sidebar {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100%;
            background: white;
            z-index: 9998;
            transition: left 0.3s ease;
            box-shadow: 5px 0 25px rgba(0,0,0,0.2);
            overflow-y: auto;
        }

        .sidebar.active {
            left: 0;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9997;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .sidebar-header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .sidebar-header p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .sidebar-item {
            padding: 18px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .sidebar-item:hover {
            background: #fff5f5;
            border-left-color: #ff6b6b;
        }

        .sidebar-item-icon {
            font-size: 1.5rem;
            width: 35px;
            text-align: center;
        }

        .sidebar-item-text {
            flex: 1;
        }

        .sidebar-item-text h4 {
            font-size: 1rem;
            color: #2d3436;
            margin-bottom: 3px;
        }

        .sidebar-item-text p {
            font-size: 0.75rem;
            color: #636e72;
        }

        .social-links {
            padding: 25px;
            border-top: 2px solid #f0f0f0;
        }

        .social-links h4 {
            font-size: 0.9rem;
            color: #636e72;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .social-icons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .social-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .social-icon.facebook { background: #1877f2; }
        .social-icon.instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .social-icon.twitter { background: #1da1f2; }
        .social-icon.telegram { background: #0088cc; }
        .social-icon.tiktok { background: #000; }

        .social-icon:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Main Content Spacing */
        .main-content {
            margin-top: 65px;
        }

        /* Header & Branding */
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 15px 15px;
            margin: 10px 10px 15px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.35);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .brand-content {
            position: relative;
            z-index: 1;
        }

        .brand-name {
            font-size: 1.6rem;
            font-weight: 900;
            margin-bottom: 4px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }

        .brand-tagline {
            font-size: 0.85rem;
            opacity: 0.95;
            font-weight: 500;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .brand-icon {
            font-size: 1.8rem;
            margin-bottom: 8px;
            display: block;
            animation: swing 3s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }

        @keyframes swing {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-15deg); }
            75% { transform: rotate(15deg); }
        }

        /* Search Section */
        .search-section {
            padding: 0 15px;
            margin: 15px 0;
        }

        .search-container {
            position: relative;
            max-width: 550px;
            margin: 0 auto;
        }

        .search-container::before {
            content: "üîç";
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.1rem;
            z-index: 1;
        }

        #searchInput {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            background: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.15);
            transition: all 0.3s ease;
        }

        #searchInput:focus {
            outline: none;
            box-shadow: 0 6px 25px rgba(255, 107, 107, 0.25);
            transform: translateY(-2px);
        }

        /* Category Filter */
        .category-section {
            padding: 0 15px;
            margin: 20px 0;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 800;
            margin-bottom: 15px;
            color: #ff6b6b;
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .section-title::before {
            content: "üç¥";
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .category-filter {
            padding: 15px 0;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
        }

        .category-filter::-webkit-scrollbar {
            display: none;
        }

        .filter-btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 22px;
            margin-right: 12px;
            background: white;
            border: 3px solid transparent;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 700;
            font-size: 0.95rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            color: #555;
        }

        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            border-color: #ff6b6b;
            transform: scale(1.05);
        }

        /* Menu Grid */
        .menu-container {
            padding: 0 15px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 10px;
            min-height: 200px;
        }

        .menu-item {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.15);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation: fadeInUp 0.5s ease;
            border: 3px solid transparent;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .menu-item:hover {
            transform: translateY(-8px) rotate(-1deg);
            box-shadow: 0 12px 30px rgba(255, 107, 107, 0.3);
            border-color: #ff6b6b;
        }

        .menu-item:active {
            transform: scale(0.95);
        }

        .item-image-container {
            width: 100%;
            height: 140px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .item-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.4s ease;
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
        }

        .item-image.loaded {
            opacity: 1;
        }

        .image-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            transition: opacity 0.4s ease;
            z-index: 1;
        }

        .image-placeholder.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .menu-item:hover .item-image.loaded {
            transform: scale(1.15) rotate(2deg);
        }

        .item-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 800;
            z-index: 2;
            box-shadow: 0 3px 10px rgba(255, 82, 82, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .favorite-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1rem;
            z-index: 2;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }

        .favorite-btn:hover {
            transform: scale(1.2) rotate(10deg);
        }

        .favorite-btn.active {
            color: #ff4757;
            background: white;
            animation: heartbeat 0.6s ease;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.3); }
            50% { transform: scale(1.1); }
        }

        .item-content {
            padding: 15px;
            background: white;
        }

        .item-name {
            font-size: 1.05rem;
            font-weight: 800;
            margin-bottom: 6px;
            color: #2d3436;
            line-height: 1.3;
        }

        .item-description {
            color: #636e72;
            font-size: 0.8rem;
            margin-bottom: 12px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 2.2rem;
        }

        .item-price {
            font-size: 1.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .view-details {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
        }

        .view-details:hover {
            transform: scale(1.15) rotate(15deg);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.5);
        }

        /* Empty State */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 60px 20px;
            color: #636e72;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.1);
        }

        .empty-state-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            opacity: 0.7;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: #ff6b6b;
            font-weight: 800;
        }

        .empty-state p {
            font-size: 1rem;
            line-height: 1.7;
            max-width: 400px;
            margin: 0 auto;
            color: #636e72;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 10000;
            padding: 10px;
            overflow-y: auto;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 20px auto;
            border-radius: 25px;
            max-width: 550px;
            position: relative;
            animation: modalSlideUp 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(100px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 1.3rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .close-btn:hover {
            background: #ff4757;
            transform: rotate(90deg) scale(1.1);
        }

        .detail-image-container {
            width: 100%;
            height: 300px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .detail-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.4s ease;
            position: absolute;
            top: 0;
            left: 0;
        }

        .detail-image.loaded {
            opacity: 1;
        }

        .detail-image-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            transition: opacity 0.4s ease;
            z-index: 1;
        }

        .detail-image-placeholder.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .detail-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 800;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(255, 82, 82, 0.5);
            text-transform: uppercase;
        }

        .detail-favorite {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 2;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .detail-favorite:hover {
            transform: scale(1.2) rotate(10deg);
        }

        .detail-favorite.active {
            color: #ff4757;
        }

        .detail-content {
            padding: 25px;
        }

        .detail-name {
            font-size: 1.9rem;
            font-weight: 900;
            margin-bottom: 10px;
            color: #2d3436;
            line-height: 1.3;
        }

        .detail-location {
            color: #ff6b6b;
            margin-bottom: 20px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .detail-location::before {
            content: "üìç";
            margin-right: 8px;
            font-size: 1.2rem;
        }

        .nutrition-info {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(135deg, #fff5e6, #ffe4cc);
            border-radius: 20px;
            box-shadow: inset 0 2px 10px rgba(255, 107, 107, 0.1);
        }

        .nutrition-item {
            text-align: center;
        }

        .nutrition-value {
            font-size: 1.6rem;
            font-weight: 900;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nutrition-label {
            font-size: 0.75rem;
            color: #636e72;
            margin-top: 5px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-section h3 {
            font-size: 1.3rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: #ff6b6b;
            display: flex;
            align-items: center;
        }

        .detail-section h3::before {
            content: "üìù";
            margin-right: 10px;
            font-size: 1.4rem;
        }

        .detail-description {
            color: #2d3436;
            line-height: 1.8;
            font-size: 1rem;
        }

        .detail-price-section {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 25px;
            margin: 30px -25px -25px;
            text-align: center;
            font-size: 2rem;
            font-weight: 900;
            box-shadow: 0 -5px 20px rgba(255, 107, 107, 0.3);
        }

        /* Feedback Modal */
        .feedback-form-group {
            margin-bottom: 20px;
        }

        .feedback-form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #2d3436;
        }

        .feedback-form-group input,
        .feedback-form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .feedback-form-group input:focus,
        .feedback-form-group textarea:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        .feedback-form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .rating-stars {
            display: flex;
            gap: 10px;
            font-size: 2rem;
            justify-content: center;
            margin: 20px 0;
        }

        .rating-star {
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ddd;
        }

        .rating-star.active,
        .rating-star:hover {
            color: #feca57;
            transform: scale(1.2);
        }

        .submit-feedback-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-feedback-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        }

        /* Contact Modal */
        .contact-info-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 15px;
        }

        .contact-info-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }

        .contact-info-text h4 {
            font-size: 0.9rem;
            color: #636e72;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .contact-info-text p {
            font-size: 1.1rem;
            color: #2d3436;
            font-weight: 600;
        }

        .contact-info-text a {
            color: #ff6b6b;
            text-decoration: none;
        }

        /* Developer Branding */
        .developer-branding {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #2d3436, #636e72);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 0.85rem;
            box-shadow: 0 -4px 15px rgba(0,0,0,0.2);
            z-index: 998;
        }

        .developer-branding a {
            color: #feca57;
            text-decoration: none;
            font-weight: 700;
        }

        .developer-branding a:hover {
            text-decoration: underline;
        }

        /* Cart Notification */
        .cart-notification {
            position: fixed;
            bottom: 70px;
            right: 25px;
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 16px 24px;
            border-radius: 50px;
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.4);
            display: none;
            align-items: center;
            z-index: 999;
            font-weight: 700;
            animation: slideInRight 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(150px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .cart-notification::before {
            content: "‚úì";
            margin-right: 10px;
            font-size: 1.3rem;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .top-bar {
                padding: 12px 25px;
            }

            .header {
                padding: 25px 20px;
                margin: 15px 15px 20px;
            }

            .brand-name {
                font-size: 2.5rem;
            }

            .brand-icon {
                font-size: 2.5rem;
                margin-bottom: 12px;
            }

            .brand-tagline {
                font-size: 1rem;
            }

            .menu-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
            }
            
            .item-image-container {
                height: 180px;
            }
            
            .detail-image-container {
                height: 400px;
            }

            .preloader-restaurant {
                font-size: 4rem;
            }

            .sidebar {
                width: 320px;
            }
        }

        @media (min-width: 1024px) {
            .menu-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-logo">üçΩÔ∏è</div>
        <div class="preloader-restaurant">
            <span>A</span><span>r</span><span>k</span><span>e</span><span>o</span><span>n</span>
        </div>
        <div class="preloader-tagline">Ethiopia</div>
        <div class="preloader-spinner"></div>
    </div>

    <!-- Top Bar with Menu & Language -->
    <div class="top-bar">
        <button class="menu-icon-btn" id="menuToggle">
            <span></span>
            <span></span>
            <span></span>
        </button>
        
        <div class="language-toggle">
            <button class="lang-btn active" data-lang="en">English</button>
            <button class="lang-btn" data-lang="am">·ä†·àõ·à≠·äõ</button>
        </div>
    </div>

    <!-- Sidebar Menu -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2 data-i18n="restaurant_name">Arkeon Ethiopia</h2>
            <p data-i18n="tagline">Crafting Culinary Excellence</p>
        </div>
        
        <div class="sidebar-menu">
            <div class="sidebar-item" id="feedbackBtn">
                <span class="sidebar-item-icon">üí¨</span>
                <div class="sidebar-item-text">
                    <h4 data-i18n="menu_feedback">Feedback</h4>
                    <p data-i18n="menu_feedback_desc">Share your thoughts</p>
                </div>
            </div>
            
            <div class="sidebar-item" id="contactBtn">
                <span class="sidebar-item-icon">üìû</span>
                <div class="sidebar-item-text">
                    <h4 data-i18n="menu_contact">Contact Us</h4>
                    <p data-i18n="menu_contact_desc">Get in touch</p>
                </div>
            </div>
            
            <div class="sidebar-item" id="reviewBtn">
                <span class="sidebar-item-icon">‚≠ê</span>
                <div class="sidebar-item-text">
                    <h4 data-i18n="menu_review">Write a Review</h4>
                    <p data-i18n="menu_review_desc">Rate us on Google</p>
                </div>
            </div>
        </div>
        
        <div class="social-links">
            <h4 data-i18n="follow_us">Follow Us</h4>
            <div class="social-icons" id="socialIcons">
                <!-- Social icons will be loaded dynamically -->
            </div>
        </div>
    </div>

    <div class="main-content">
        <!-- Header Section -->
        <header class="header">
            <div class="brand-content">
                <span class="brand-icon">üçΩÔ∏è</span>
                <div class="brand-name" data-i18n="restaurant_name">Arkeon Ethiopia</div>
                <div class="brand-tagline" data-i18n="tagline">Crafting Culinary Excellence Since 2010</div>
            </div>
        </header>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-container">
                <input type="text" id="searchInput" data-i18n-placeholder="search_placeholder" placeholder="Search for delicious dishes...">
            </div>
        </div>

        <!-- Category Filter -->
        <div class="category-section">
            <div class="section-title" data-i18n="categories">Categories</div>
            <div class="category-filter">
                <button class="filter-btn active" data-category="all" data-i18n="cat_all">All</button>
                <button class="filter-btn" data-category="breakfast"><span>üç≥</span> <span data-i18n="cat_breakfast">Breakfast</span></button>
                <button class="filter-btn" data-category="lunch"><span>üçî</span> <span data-i18n="cat_lunch">Lunch</span></button>
                <button class="filter-btn" data-category="dinner"><span>üçï</span> <span data-i18n="cat_dinner">Dinner</span></button>
                <button class="filter-btn" data-category="dessert"><span>üç¶</span> <span data-i18n="cat_dessert">Dessert</span></button>
                <button class="filter-btn" data-category="drinks"><span>‚òï</span> <span data-i18n="cat_drinks">Drinks</span></button>
                <button class="filter-btn" data-category="specials"><span>‚≠ê</span> <span data-i18n="cat_specials">Specials</span></button>
                <button class="filter-btn" data-category="favorites"><span>‚ù§Ô∏è</span> <span data-i18n="cat_favorites">Favorites</span></button>
            </div>
        </div>

        <!-- Menu Grid -->
        <div class="menu-container">
            <div class="section-title" data-i18n="our_menu">Our Menu</div>
            <div class="menu-grid" id="menuGrid"></div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <button class="close-btn" id="closeModal">‚úï</button>
            <div class="detail-image-container">
                <img class="detail-image" id="detailImage" alt="Food item">
                <div class="detail-image-placeholder" id="detailImagePlaceholder">üçΩÔ∏è</div>
                <div class="detail-badge" id="detailBadge">Popular</div>
                <button class="detail-favorite" id="detailFavorite">ü§ç</button>
            </div>
            <div class="detail-content">
                <h1 class="detail-name" id="detailName">Food Item</h1>
                <div class="detail-location" id="detailLocation">Location</div>
                
                <div class="nutrition-info">
                    <div class="nutrition-item">
                        <div class="nutrition-value" id="nutritionCalories">0</div>
                        <div class="nutrition-label" data-i18n="kcal">kcal</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value" id="nutritionProteins">0</div>
                        <div class="nutrition-label" data-i18n="protein">protein</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value" id="nutritionFats">0</div>
                        <div class="nutrition-label" data-i18n="fats">fats</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value" id="nutritionCarbs">0</div>
                        <div class="nutrition-label" data-i18n="carbs">carbs</div>
                    </div>
                </div>

                <div class="detail-section">
                    <h3 data-i18n="description">Description</h3>
                    <p class="detail-description" id="detailDescription">
                        Food description will appear here.
                    </p>
                </div>

                <div class="detail-price-section" id="detailPrice">
                    ETB 0.00
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <button class="close-btn" id="closeFeedback">‚úï</button>
            <div class="sidebar-header">
                <h2 data-i18n="feedback_title">Send Us Feedback</h2>
                <p data-i18n="feedback_subtitle">We'd love to hear from you!</p>
            </div>
            <div class="detail-content">
                <form id="feedbackForm">
                    <div class="feedback-form-group">
                        <label data-i18n="feedback_name">Your Name</label>
                        <input type="text" id="feedbackName" required>
                    </div>
                    <div class="feedback-form-group">
                        <label data-i18n="feedback_email">Email (Optional)</label>
                        <input type="email" id="feedbackEmail">
                    </div>
                    <div class="feedback-form-group">
                        <label data-i18n="feedback_phone">Phone (Optional)</label>
                        <input type="tel" id="feedbackPhone">
                    </div>
                    <div class="feedback-form-group">
                        <label data-i18n="feedback_rating">Rate Your Experience</label>
                        <div class="rating-stars" id="ratingStars">
                            <span class="rating-star" data-rating="1">‚òÖ</span>
                            <span class="rating-star" data-rating="2">‚òÖ</span>
                            <span class="rating-star" data-rating="3">‚òÖ</span>
                            <span class="rating-star" data-rating="4">‚òÖ</span>
                            <span class="rating-star" data-rating="5">‚òÖ</span>
                        </div>
                    </div>
                    <div class="feedback-form-group">
                        <label data-i18n="feedback_message">Your Message</label>
                        <textarea id="feedbackMessage" required></textarea>
                    </div>
                    <button type="submit" class="submit-feedback-btn" data-i18n="submit_feedback">Submit Feedback</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal" id="contactModal">
        <div class="modal-content">
            <button class="close-btn" id="closeContact">‚úï</button>
            <div class="sidebar-header">
                <h2 data-i18n="contact_title">Contact Us</h2>
                <p data-i18n="contact_subtitle">Get in touch with us</p>
            </div>
            <div class="detail-content" id="contactInfo">
                <!-- Contact info will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Developer Branding -->
    <div class="developer-branding">
        <span data-i18n="developed_by">Developed by</span> <a href="https://yourwebsite.com" target="_blank">YourName</a> | 
        <span data-i18n="powered_by">Powered by Supabase</span>
    </div>

    <!-- Cart Notification -->
    <div class="cart-notification" id="cartNotification">Added to favorites!</div>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.0/dist/umd/supabase.min.js"></script>
    
    <script>
        // ===== SUPABASE CONFIGURATION =====
        const SUPABASE_URL = 'https://umupbrhhjjnbkscyacmn.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtdXBicmhoampuYmtzY3lhY21uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NzcwNTAsImV4cCI6MjA3NzE1MzA1MH0.lxMiEsGgK9VpUzcrjUSaw6ZvLK7uOtTz4S2_fSnJWOM';

        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // ===== TRANSLATIONS =====
        const translations = {
            en: {
                restaurant_name: 'Arkeon Ethiopia',
                tagline: 'Crafting Culinary Excellence Since 2010',
                search_placeholder: 'Search for delicious dishes...',
                categories: 'Categories',
                cat_all: 'All',
                cat_breakfast: 'Breakfast',
                cat_lunch: 'Lunch',
                cat_dinner: 'Dinner',
                cat_dessert: 'Dessert',
                cat_drinks: 'Drinks',
                cat_specials: 'Specials',
                cat_favorites: 'Favorites',
                our_menu: 'Our Menu',
                description: 'Description',
                kcal: 'kcal',
                protein: 'protein',
                fats: 'fats',
                carbs: 'carbs',
                menu_feedback: 'Feedback',
                menu_feedback_desc: 'Share your thoughts',
                menu_contact: 'Contact Us',
                menu_contact_desc: 'Get in touch',
                menu_review: 'Write a Review',
                menu_review_desc: 'Rate us on Google',
                follow_us: 'Follow Us',
                feedback_title: 'Send Us Feedback',
                feedback_subtitle: "We'd love to hear from you!",
                feedback_name: 'Your Name',
                feedback_email: 'Email (Optional)',
                feedback_phone: 'Phone (Optional)',
                feedback_rating: 'Rate Your Experience',
                feedback_message: 'Your Message',
                submit_feedback: 'Submit Feedback',
                contact_title: 'Contact Us',
                contact_subtitle: 'Get in touch with us',
                developed_by: 'Developed by',
                powered_by: 'Powered by Supabase',
                empty_favorites: 'No Favorites Yet!',
                empty_favorites_desc: 'Start adding your favorite dishes by clicking the heart icon on any menu item.<br><br>Your favorites will appear here for quick access!',
                empty_menu: 'Welcome to Arkeon Ethiopia!',
                empty_menu_desc: 'Our culinary masterpieces are being prepared.<br>Check back soon for an extraordinary dining experience!',
                added_favorites: 'Added to favorites!',
                removed_favorites: 'Removed from favorites!',
                feedback_success: 'Thank you for your feedback!',
                feedback_error: 'Error submitting feedback. Please try again.'
            },
            am: {
                restaurant_name: '·ä†·à≠·ä¨·äï ·ä¢·âµ·ãÆ·åµ·ã´',
                tagline: '·ä® 2010 ·ãì.·àù ·åÄ·àù·àÆ ·ã®·àù·åç·â• ·â•·âÉ·âµ ·ä•·ã®·çà·å†·à≠·äï',
                search_placeholder: '·àà·å£·ãï·àù ·àù·åç·â¶·âΩ ·ã≠·çà·àç·åâ...',
                categories: '·àù·ãµ·â¶·âΩ',
                cat_all: '·àÅ·àâ·àù',
                cat_breakfast: '·âÅ·à≠·àµ',
                cat_lunch: '·àù·à≥',
                cat_dinner: '·ä•·à´·âµ',
                cat_dessert: '·å£·çã·å≠',
                cat_drinks: '·àò·å†·å¶·âΩ',
                cat_specials: '·àç·ã©',
                cat_favorites: '·â∞·ãà·ã≥·åÜ·âΩ',
                our_menu: '·ã®·ä•·äõ ·àù·äì·àå',
                description: '·àò·åç·àà·å´',
                kcal: '·ä´·àé·à™',
                protein: '·çï·àÆ·â≤·äï',
                fats: '·àµ·â•',
                carbs: '·ä´·à≠·â¶',
                menu_feedback: '·ä†·àµ·â∞·ã´·ã®·âµ',
                menu_feedback_desc: '·àÄ·à≥·â•·ãé·äï ·ã´·åã·à©',
                menu_contact: '·ä†·åç·äô·äï',
                menu_contact_desc: '·ã´·äê·åã·åç·à©·äï',
                menu_review: '·åç·àù·åà·àõ ·ã≠·àµ·å°',
                menu_review_desc: '·â†·åâ·åç·àç ·àã·ã≠ ·ã≠·åà·àù·åç·àô·äï',
                follow_us: '·ã≠·ä®·â≥·â∞·àâ·äï',
                feedback_title: '·ä†·àµ·â∞·ã´·ã®·âµ ·ã≠·àã·ä©·àç·äï',
                feedback_subtitle: '·ä®·ä•·à≠·àµ·ãé ·àò·àµ·àõ·âµ ·ä•·äï·ãà·ã≥·àà·äï!',
                feedback_name: '·àµ·àù·ãé',
                feedback_email: '·ä¢·àú·ã≠·àç (·ä†·àõ·à´·å≠)',
                feedback_phone: '·àµ·àç·ä≠ (·ä†·àõ·à´·å≠)',
                feedback_rating: '·â∞·àû·ä≠·àÆ·ãé·äï ·ã≠·åà·àù·åç·àô',
                feedback_message: '·àò·àç·ä•·ä≠·âµ·ãé',
                submit_feedback: '·ä†·àµ·â∞·ã´·ã®·âµ ·àã·ä≠',
                contact_title: '·ä†·åç·äô·äï',
                contact_subtitle: '·ã´·äì·åç·à©·äï',
                developed_by: '·ã®·â∞·åà·äê·â£·ãç ·â†',
                powered_by: '·ã®·àö·äï·âÄ·à≥·âÄ·à∞·ãç ·â† Supabase',
                empty_favorites: '·åà·äì ·àù·äï·àù ·â∞·ãà·ã≥·åÖ ·ã®·àà·àù!',
                empty_favorites_desc: '·â†·àõ·äï·äõ·ãç·àù ·ã®·àù·åç·â• ·ãï·âÉ ·àã·ã≠ ·ã®·àç·â• ·àù·àç·ä≠·â±·äï ·â†·àò·å´·äï ·â∞·ãà·ã≥·åÖ ·àù·åç·â¶·âΩ·ãé·äï ·àõ·ä®·àç ·ã≠·åÄ·àù·à©·ç¢<br><br>·â∞·ãà·ã≥·åÜ·âΩ·ãé ·àà·çà·å£·äï ·àò·ã≥·à®·àª ·ä•·ãö·àÖ ·ã≠·â≥·ã´·àâ!',
                empty_menu: '·ä•·äï·ä≥·äï ·ãà·ã∞ ·ä†·à≠·ä¨·äï ·ä¢·âµ·ãÆ·åµ·ã´ ·â†·ã∞·àÖ·äì ·àò·å°!',
                empty_menu_desc: '·ã®·ä•·äõ ·àù·åç·â• ·â•·âÉ·â∂·âΩ ·ä•·ã®·â∞·ãò·åã·åÅ ·äê·ãç·ç¢<br>·àà·àç·ã© ·ã®·àù·åç·â• ·àç·àù·ãµ ·â†·âÖ·à≠·â° ·ã≠·àò·àà·à±!',
                added_favorites: '·ãà·ã∞ ·â∞·ãà·ã≥·åÜ·âΩ ·â≥·ä≠·àè·àç!',
                removed_favorites: '·ä®·â∞·ãà·ã≥·åÜ·âΩ ·â∞·ãà·åç·ã∑·àç!',
                feedback_success: '·àà·ä†·àµ·â∞·ã´·ã®·âµ·ãé ·ä•·äì·àò·à∞·åç·äì·àà·äï!',
                feedback_error: '·ä†·àµ·â∞·ã´·ã®·âµ ·â†·àõ·àµ·åà·â£·âµ ·àã·ã≠ ·àµ·àÖ·â∞·âµ·ç¢ ·ä•·â£·ä≠·ãé ·ä•·äï·ã∞·åà·äì ·ã≠·àû·ä≠·à©·ç¢'
            }
        };

        // ===== APPLICATION STATE =====
        let menuData = [];
        let restaurantSettings = null;
        let currentFilter = 'all';
        let currentSearchTerm = '';
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let currentItem = null;
        let currentLanguage = localStorage.getItem('language') || 'en';
        let currentRating = 0;

        // DOM Elements
        const preloader = document.getElementById('preloader');
        const menuGrid = document.getElementById('menuGrid');
        const detailModal = document.getElementById('detailModal');
        const closeModal = document.getElementById('closeModal');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const searchInput = document.getElementById('searchInput');
        const detailFavoriteBtn = document.getElementById('detailFavorite');
        const cartNotification = document.getElementById('cartNotification');
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const langBtns = document.querySelectorAll('.lang-btn');
        const feedbackBtn = document.getElementById('feedbackBtn');
        const contactBtn = document.getElementById('contactBtn');
        const reviewBtn = document.getElementById('reviewBtn');
        const feedbackModal = document.getElementById('feedbackModal');
        const contactModal = document.getElementById('contactModal');
        const closeFeedback = document.getElementById('closeFeedback');
        const closeContact = document.getElementById('closeContact');
        const feedbackForm = document.getElementById('feedbackForm');
        const ratingStars = document.querySelectorAll('.rating-star');

        // ===== LANGUAGE SWITCHING =====
        function switchLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            
            langBtns.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });
            
            const placeholder = searchInput.getAttribute('data-i18n-placeholder');
            if (placeholder && translations[lang][placeholder]) {
                searchInput.placeholder = translations[lang][placeholder];
            }
            
            applyFilters();
        }

        function getItemText(item, field) {
            const amField = field + '_am';
            if (currentLanguage === 'am' && item[amField]) {
                return item[amField];
            }
            return item[field];
        }

        // ===== SIDEBAR FUNCTIONS =====
        function toggleSidebar() {
            const isActive = sidebar.classList.toggle('active');
            sidebarOverlay.classList.toggle('active', isActive);
            menuToggle.classList.toggle('active', isActive);
            document.body.style.overflow = isActive ? 'hidden' : 'auto';
        }

        function closeSidebar() {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
            menuToggle.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // ===== LOAD RESTAURANT SETTINGS =====
        async function loadRestaurantSettings() {
            try {
                const { data, error } = await supabase
                    .from('restaurant_settings')
                    .select('*')
                    .limit(1)
                    .single();

                if (error) throw error;
                
                restaurantSettings = data;
                updateSocialLinks();
                
            } catch (error) {
                console.error('Error loading settings:', error);
                restaurantSettings = {
                    restaurant_name: 'Arkeon Ethiopia',
                    phone: '+251 11 123 4567',
                    email: 'info@arkeonethiopia.com',
                    address: 'Bole, Addis Ababa, Ethiopia',
                    google_review_url: 'https://g.page/review'
                };
            }
        }

        function updateSocialLinks() {
            const socialIcons = document.getElementById('socialIcons');
            socialIcons.innerHTML = '';
            
            const socials = [
                { platform: 'facebook', emoji: 'üìò', url: restaurantSettings?.facebook_url },
                { platform: 'instagram', emoji: 'üì∑', url: restaurantSettings?.instagram_url },
                { platform: 'twitter', emoji: 'üê¶', url: restaurantSettings?.twitter_url },
                { platform: 'telegram', emoji: '‚úàÔ∏è', url: restaurantSettings?.telegram_url },
                { platform: 'tiktok', emoji: 'üéµ', url: restaurantSettings?.tiktok_url }
            ];
            
            socials.forEach(social => {
                if (social.url) {
                    const link = document.createElement('a');
                    link.href = social.url;
                    link.target = '_blank';
                    link.className = `social-icon ${social.platform}`;
                    link.textContent = social.emoji;
                    socialIcons.appendChild(link);
                }
            });
        }

        // ===== FEEDBACK FUNCTIONS =====
        function setupRatingStars() {
            ratingStars.forEach(star => {
                star.addEventListener('click', () => {
                    currentRating = parseInt(star.dataset.rating);
                    updateStarDisplay();
                });
                
                star.addEventListener('mouseenter', () => {
                    const rating = parseInt(star.dataset.rating);
                    ratingStars.forEach((s, i) => {
                        s.classList.toggle('active', i < rating);
                    });
                });
            });
            
            document.querySelector('.rating-stars').addEventListener('mouseleave', updateStarDisplay);
        }

        function updateStarDisplay() {
            ratingStars.forEach((star, i) => {
                star.classList.toggle('active', i < currentRating);
            });
        }

        async function submitFeedback(e) {
            e.preventDefault();
            
            const feedbackData = {
                name: document.getElementById('feedbackName').value,
                email: document.getElementById('feedbackEmail').value || null,
                phone: document.getElementById('feedbackPhone').value || null,
                rating: currentRating,
                message: document.getElementById('feedbackMessage').value
            };
            
            try {
                const { error } = await supabase
                    .from('feedback')
                    .insert([feedbackData]);

                if (error) throw error;
                
                showNotification(translations[currentLanguage].feedback_success);
                feedbackModal.style.display = 'none';
                feedbackForm.reset();
                currentRating = 0;
                updateStarDisplay();
                
            } catch (error) {
                console.error('Error submitting feedback:', error);
                showNotification(translations[currentLanguage].feedback_error);
            }
        }

        // ===== CONTACT MODAL =====
        function showContactModal() {
            const contactInfo = document.getElementById('contactInfo');
            
            const nameKey = currentLanguage === 'am' ? 'restaurant_name_am' : 'restaurant_name';
            const addressKey = currentLanguage === 'am' ? 'address_am' : 'address';
            
            contactInfo.innerHTML = `
                <div class="contact-info-item">
                    <div class="contact-info-icon">üè¢</div>
                    <div class="contact-info-text">
                        <h4>${currentLanguage === 'am' ? '·à¨·àµ·â∂·à´·äï·âµ' : 'Restaurant'}</h4>
                        <p>${restaurantSettings[nameKey]}</p>
                    </div>
                </div>
                <div class="contact-info-item">
                    <div class="contact-info-icon">üìû</div>
                    <div class="contact-info-text">
                        <h4>${currentLanguage === 'am' ? '·àµ·àç·ä≠' : 'Phone'}</h4>
                        <p><a href="tel:${restaurantSettings.phone}">${restaurantSettings.phone}</a></p>
                    </div>
                </div>
                <div class="contact-info-item">
                    <div class="contact-info-icon">‚úâÔ∏è</div>
                    <div class="contact-info-text">
                        <h4>${currentLanguage === 'am' ? '·ä¢·àú·ã≠·àç' : 'Email'}</h4>
                        <p><a href="mailto:${restaurantSettings.email}">${restaurantSettings.email}</a></p>
                    </div>
                </div>
                <div class="contact-info-item">
                    <div class="contact-info-icon">üìç</div>
                    <div class="contact-info-text">
                        <h4>${currentLanguage === 'am' ? '·ä†·ãµ·à´·àª' : 'Address'}</h4>
                        <p>${restaurantSettings[addressKey]}</p>
                    </div>
                </div>
            `;
            
            contactModal.style.display = 'block';
            closeSidebar();
        }

        // ===== PRELOADER FUNCTIONS =====
        function hidePreloader() {
            setTimeout(() => {
                preloader.classList.add('hidden');
                document.body.classList.add('loaded');
            }, 100);
        }

        // ===== OPTIMIZED DATA LOADING =====
        async function loadMenuItems() {
            try {
                const { data, error } = await supabase
                    .from('menu_items')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                menuData = data || [];
                
                if (menuData.length > 0) {
                    const initialBatch = menuData.slice(0, 6);
                    renderMenuItems(initialBatch, false);
                    hidePreloader();
                    
                    setTimeout(() => {
                        const remainingItems = menuData.slice(6);
                        if (remainingItems.length > 0) {
                            appendMenuItems(remainingItems);
                        }
                    }, 100);
                } else {
                    showEmptyState();
                    hidePreloader();
                }
                
            } catch (error) {
                console.error('Error loading menu:', error);
                showEmptyState();
                hidePreloader();
            }
        }

        // ===== UI FUNCTIONS =====
        function showEmptyState(isFavorites = false) {
            const lang = currentLanguage;
            if (isFavorites) {
                menuGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üíî</div>
                        <h3>${translations[lang].empty_favorites}</h3>
                        <p>${translations[lang].empty_favorites_desc}</p>
                    </div>
                `;
            } else {
                menuGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üçΩÔ∏è</div>
                        <h3>${translations[lang].empty_menu}</h3>
                        <p>${translations[lang].empty_menu_desc}</p>
                    </div>
                `;
            }
        }

        function renderMenuItems(items, clearFirst = true) {
            if (clearFirst) {
                menuGrid.innerHTML = '';
            }
            
            // FIXED: Only show empty state if there are no items AND we're clearing the grid
            if (items.length === 0 && clearFirst) {
                const isFavoritesFilter = currentFilter === 'favorites';
                showEmptyState(isFavoritesFilter);
                return;
            }
            
            const fragment = document.createDocumentFragment();
            
            items.forEach((item, index) => {
                const menuItem = createMenuItem(item, index);
                fragment.appendChild(menuItem);
            });
            
            menuGrid.appendChild(fragment);
        }

        function appendMenuItems(items) {
            const fragment = document.createDocumentFragment();
            const currentItemCount = menuGrid.querySelectorAll('.menu-item').length;
            
            items.forEach((item, index) => {
                const menuItem = createMenuItem(item, currentItemCount + index);
                fragment.appendChild(menuItem);
            });
            
            menuGrid.appendChild(fragment);
        }

        function createMenuItem(item, index) {
            const isFavorite = favorites.includes(item.id);
            const menuItem = document.createElement('div');
            menuItem.className = 'menu-item';
            menuItem.style.animationDelay = `${index * 0.05}s`;
            
            const name = getItemText(item, 'name');
            const description = getItemText(item, 'description');
            
            menuItem.innerHTML = `
                <div class="item-image-container">
                    <div class="image-placeholder">üçΩÔ∏è</div>
                    <img class="item-image" data-src="${item.image}" alt="${name}">
                    <div class="item-badge">${item.badge}</div>
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-id="${item.id}">
                        ${isFavorite ? '‚ù§' : 'ü§ç'}
                    </button>
                </div>
                <div class="item-content">
                    <h3 class="item-name">${name}</h3>
                    <p class="item-description">${description}</p>
                    <div class="item-price">
                        ETB ${parseFloat(item.price).toFixed(2)}
                        <button class="view-details" data-id="${item.id}">üëÅÔ∏è</button>
                    </div>
                </div>
            `;
            
            menuItem.addEventListener('click', (e) => {
                if (!e.target.closest('.favorite-btn') && !e.target.closest('.view-details')) {
                    openDetailModal(item);
                }
            });
            
            const favoriteBtn = menuItem.querySelector('.favorite-btn');
            favoriteBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleFavorite(item.id);
            });
            
            const viewBtn = menuItem.querySelector('.view-details');
            viewBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                openDetailModal(item);
            });
            
            const img = menuItem.querySelector('.item-image');
            const placeholder = menuItem.querySelector('.image-placeholder');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const image = entry.target;
                        image.src = image.dataset.src;
                        
                        image.addEventListener('load', function() {
                            this.classList.add('loaded');
                            placeholder.classList.add('hidden');
                        });
                        
                        image.addEventListener('error', function() {
                            placeholder.innerHTML = 'üçΩÔ∏è';
                        });
                        
                        observer.unobserve(image);
                    }
                });
            }, { rootMargin: '50px' });
            
            observer.observe(img);
            
            return menuItem;
        }

        function openDetailModal(item) {
            currentItem = item;
            const isFavorite = favorites.includes(item.id);
            
            const detailImage = document.getElementById('detailImage');
            const detailPlaceholder = document.getElementById('detailImagePlaceholder');
            detailImage.classList.remove('loaded');
            detailPlaceholder.classList.remove('hidden');
            detailPlaceholder.innerHTML = 'üçΩÔ∏è';
            
            const name = getItemText(item, 'name');
            const description = getItemText(item, 'description');
            const location = getItemText(item, 'location');
            
            detailImage.src = item.image;
            detailImage.alt = name;
            document.getElementById('detailBadge').textContent = item.badge;
            detailFavoriteBtn.innerHTML = isFavorite ? '‚ù§' : 'ü§ç';
            detailFavoriteBtn.className = `detail-favorite ${isFavorite ? 'active' : ''}`;
            document.getElementById('detailName').textContent = name;
            document.getElementById('detailLocation').textContent = location;
            document.getElementById('detailDescription').textContent = description;
            
            let nutrition = item.nutrition;
            if (typeof nutrition === 'string') {
                try {
                    nutrition = JSON.parse(nutrition);
                } catch (e) {
                    nutrition = { calories: 0, proteins: 0, fats: 0, carbs: 0 };
                }
            }
            
            document.getElementById('nutritionCalories').textContent = nutrition.calories || 0;
            document.getElementById('nutritionProteins').textContent = nutrition.proteins || 0;
            document.getElementById('nutritionFats').textContent = nutrition.fats || 0;
            document.getElementById('nutritionCarbs').textContent = nutrition.carbs || 0;
            
            document.getElementById('detailPrice').textContent = `ETB ${parseFloat(item.price).toFixed(2)}`;
            
            detailModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            detailImage.addEventListener('load', function() {
                this.classList.add('loaded');
                detailPlaceholder.classList.add('hidden');
            });

            detailImage.addEventListener('error', function() {
                detailPlaceholder.innerHTML = 'üçΩÔ∏è';
            });
        }

        function closeDetailModal() {
            detailModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function toggleFavorite(itemId) {
            const index = favorites.indexOf(itemId);
            if (index > -1) {
                favorites.splice(index, 1);
                showNotification(translations[currentLanguage].removed_favorites);
            } else {
                favorites.push(itemId);
                showNotification(translations[currentLanguage].added_favorites);
            }
            localStorage.setItem('favorites', JSON.stringify(favorites));
            
            if (currentFilter === 'favorites') {
                applyFilters();
            } else {
                updateFavoritesUI();
            }
        }

        function showNotification(message) {
            cartNotification.textContent = message;
            cartNotification.style.display = 'flex';
            setTimeout(() => {
                cartNotification.style.display = 'none';
            }, 2000);
        }

        function updateFavoritesUI() {
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                const itemId = parseInt(btn.getAttribute('data-id'));
                const isFavorite = favorites.includes(itemId);
                btn.className = `favorite-btn ${isFavorite ? 'active' : ''}`;
                btn.innerHTML = isFavorite ? '‚ù§' : 'ü§ç';
            });

            if (currentItem) {
                const isFavorite = favorites.includes(currentItem.id);
                detailFavoriteBtn.innerHTML = isFavorite ? '‚ù§' : 'ü§ç';
                detailFavoriteBtn.className = `detail-favorite ${isFavorite ? 'active' : ''}`;
            }
        }

        function filterMenu(category) {
            currentFilter = category;
            applyFilters();
        }

        function applyFilters() {
            let filteredItems = menuData;
            
            if (currentFilter !== 'all') {
                if (currentFilter === 'favorites') {
                    filteredItems = menuData.filter(item => favorites.includes(item.id));
                } else {
                    filteredItems = menuData.filter(item => item.category === currentFilter);
                }
            }
            
            if (currentSearchTerm) {
                const term = currentSearchTerm.toLowerCase();
                filteredItems = filteredItems.filter(item => {
                    const name = getItemText(item, 'name').toLowerCase();
                    const description = getItemText(item, 'description').toLowerCase();
                    return name.includes(term) || description.includes(term);
                });
            }
            
            renderMenuItems(filteredItems);
        }

        // ===== EVENT LISTENERS =====
        function setupEventListeners() {
            menuToggle.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', closeSidebar);
            
            langBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    switchLanguage(btn.dataset.lang);
                });
            });
            
            feedbackBtn.addEventListener('click', () => {
                feedbackModal.style.display = 'block';
                closeSidebar();
            });
            
            contactBtn.addEventListener('click', showContactModal);
            
            reviewBtn.addEventListener('click', () => {
                window.open(restaurantSettings?.google_review_url || 'https://g.page/review', '_blank');
                closeSidebar();
            });
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filterMenu(btn.dataset.category);
                });
            });

            let searchTimeout;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentSearchTerm = e.target.value;
                    applyFilters();
                }, 300);
            });

            closeModal.addEventListener('click', closeDetailModal);
            closeFeedback.addEventListener('click', () => {
                feedbackModal.style.display = 'none';
            });
            closeContact.addEventListener('click', () => {
                contactModal.style.display = 'none';
            });
            
            detailModal.addEventListener('click', (e) => {
                if (e.target === detailModal) closeDetailModal();
            });
            
            feedbackModal.addEventListener('click', (e) => {
                if (e.target === feedbackModal) feedbackModal.style.display = 'none';
            });
            
            contactModal.addEventListener('click', (e) => {
                if (e.target === contactModal) contactModal.style.display = 'none';
            });

            detailFavoriteBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                if (currentItem) {
                    toggleFavorite(currentItem.id);
                }
            });

            feedbackForm.addEventListener('submit', submitFeedback);
            setupRatingStars();

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeDetailModal();
                    feedbackModal.style.display = 'none';
                    contactModal.style.display = 'none';
                    closeSidebar();
                }
            });
        }

        // ===== INITIALIZATION =====
        async function initializeApp() {
            setupEventListeners();
            switchLanguage(currentLanguage);
            await loadRestaurantSettings();
            await loadMenuItems();
            updateFavoritesUI();
        }

        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
